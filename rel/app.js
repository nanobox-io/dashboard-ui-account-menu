!function e(t,a,r){function n(s,o){if(!a[s]){if(!t[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(i)return i(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=a[s]={exports:{}};t[s][0].call(c.exports,function(e){var a=t[s][1][e];return n(a?a:e)},c,c.exports,e,t,a,r)}return a[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(e,t,a){var r,n,i,s=function(e,t){return function(){return e.apply(t,arguments)}};i=e("jade/base"),n=e("sub-menu"),r=function(){function e(e,t){this.config=t,this.addDestroyListener=s(this.addDestroyListener,this),this.parseData(),this.build(e)}return e.prototype.build=function(e){return this.$node=$(i(this.config)),e.append(this.$node),$("#profile-img").on("click",function(e){return function(t){if(null==e.subMenu)return e.buildSubMenu(),setTimeout(e.addDestroyListener,50)}}(this))},e.prototype.buildSubMenu=function(){return this.subMenu=new n(this.$node,this.config)},e.prototype.destroySubMenu=function(){return this.subMenu.destroy(),this.subMenu=null},e.prototype.addDestroyListener=function(){return $(document).on("click",function(e){return function(){return $(document).off("click"),e.destroySubMenu()}}(this))},e.prototype.parseData=function(){var e,t,a,r,n,i,s;for(this.config.gravatarHash=md5(this.config.user.email),e=["#F07146","#F046A1","#00BACC","#00A42E","#F00000"],t=0,n=this.config.teams,i=[],a=0,r=n.length;a<r;a++)s=n[a],s.color=this.hexToRgb(e[t++],.7),t===e.length?i.push(t=0):i.push(void 0);return i},e.prototype.hexToRgb=function(e,t){var a;return a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),"rgba("+parseInt(a[1],16)+", "+parseInt(a[2],16)+", "+parseInt(a[3],16)+", "+t+")"},e}(),window.nanobox||(window.nanobox={}),nanobox.AccountMenu=r},{"jade/base":3,"sub-menu":2}],2:[function(e,t,a){var r,n;n=e("jade/sub-menu"),t.exports=r=function(){function e(e,t){this.config=t,this.build(e)}return e.prototype.build=function(e){return this.$node=$(n(this.config)),e.append(this.$node)},e.prototype.destroy=function(){return this.$node.remove()},e}()},{"jade/sub-menu":4}],3:[function(e,t,a){t.exports=function(e){var t=[],a=e||{};return function(e){t.push('<div class="account-menu"><div id="profile-img"><img'+jade.attr("src","https://secure.gravatar.com/avatar/"+e+"?d=retro&r=pg&size=36",!0,!1)+' class="profile"/><div class="circ-arrow"></div></div></div>')}.call(this,"gravatarHash"in a?a.gravatarHash:"undefined"!=typeof gravatarHash?gravatarHash:void 0),t.join("")}},{}],4:[function(e,t,a){t.exports=function(e){var t,a=[],r=e||{};return function(e,r,n,i,s){a.push('<div class="account-sub-menu"><div class="teams"><div href="" class="team"><img'+jade.attr("src","https://secure.gravatar.com/avatar/"+e+"?d=retro&r=pg&size=36",!0,!1)+' class="profile"/><div class="name">'+jade.escape(null==(t=s.username)?"":t)+"</div></div>"),function(){var r=n;if("number"==typeof r.length)for(var i=0,s=r.length;i<s;i++){var o=r[i];a.push("<a"+jade.attr("href",""+o.path,!0,!1)+' class="team"><img'+jade.attr("src","https://secure.gravatar.com/avatar/"+e+"?d=retro&r=pg&size=36",!0,!1)+' class="profile"/><div class="name">'+jade.escape(null==(t=o.name)?"":t)+"</div><div"+jade.attr("style","background-color:"+o.color,!0,!1)+' class="letter">'+jade.escape(null==(t=o.name.charAt(0))?"":t)+"</div></a>")}else{var s=0;for(var i in r){s++;var o=r[i];a.push("<a"+jade.attr("href",""+o.path,!0,!1)+' class="team"><img'+jade.attr("src","https://secure.gravatar.com/avatar/"+e+"?d=retro&r=pg&size=36",!0,!1)+' class="profile"/><div class="name">'+jade.escape(null==(t=o.name)?"":t)+"</div><div"+jade.attr("style","background-color:"+o.color,!0,!1)+' class="letter">'+jade.escape(null==(t=o.name.charAt(0))?"":t)+"</div></a>")}}}.call(this),a.push('</div><div class="account-admin"><div class="top"><div class="image-box"><img'+jade.attr("src","https://secure.gravatar.com/avatar/"+e+"?d=retro&r=pg&size=36",!0,!1)+' class="profile"/></div><div class="actions"><a'+jade.attr("href",""+s.adminPath,!0,!1)+">Admin</a><a"+jade.attr("href",""+s.logoutPath,!0,!1)+">Logout</a></div></div><a"+jade.attr("href",""+r,!0,!1)+' class="new-team">Create a new team</a></div></div>')}.call(this,"gravatarHash"in r?r.gravatarHash:"undefined"!=typeof gravatarHash?gravatarHash:void 0,"newTeamPath"in r?r.newTeamPath:"undefined"!=typeof newTeamPath?newTeamPath:void 0,"teams"in r?r.teams:"undefined"!=typeof teams?teams:void 0,"undefined"in r?r.undefined:void 0,"user"in r?r.user:"undefined"!=typeof user?user:void 0),a.join("")}},{}]},{},[1]);